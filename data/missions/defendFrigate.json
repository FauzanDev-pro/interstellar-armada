{
    "description": "A rebel corvette has been identified in the sector. A Taurus frigate has been dispatched to deal with this threat, and you are one of its escorts to make sure it reaches and destroys the target. The enemy has sent waves of fighters and bombers you need to neutralize in time, as frigates are not very effective at dealing with fast enemies. Should the frigate fall, you will not stand much of a chance against the corvette on your own.",
    "environment": "varanock",
    "teams": [
        "empire",
        {
            "name": "rebels",
            "color": [0.2, 0.2, 0.8, 1.0]
        }
    ],
    "views": [
        {
            "name": "free",
            "movable": true,
            "turnable": true,
            "position": [60, 200, 20],
            "rotations": [
                {
                    "axis": "x",
                    "degrees": -80
                },
                {
                    "axis": "z",
                    "degrees": 215
                }
            ]
        }
    ],
    "events": [{
            "trigger": {
                "conditions": [{
                        "type": "destroyed",
                        "subjects": {
                            "spacecrafts": ["Danube"]
                        }
                    }
                ],
                "conditionsRequired": "all",
                "fireWhen": "changeToTrue",
                "oneShot": true
            },
            "actions": [{
                    "type": "lose"
                }, {
                    "type": "command",
                    "subjects": {
                        "teams": ["empire"]
                    },
                    "params": {
                        "command": "jump",
                        "jump": {
                            "way": "out"
                        }
                    }
                }
            ]
        }, {
            "trigger": {
                "fireWhen": "missionStarts",
                "oneShot": true,
                "delay": 1800
            },
            "actions": [{
                    "type": "command",
                    "subjects": {
                        "squads": ["wraith"]
                    },
                    "params": {
                        "command": "jump",
                        "jump": {
                            "way": "in",
                            "anchor": "Danube",
                            "position": [0, 4200, -100],
                            "rotations": [{
                                    "axis": "z",
                                    "degrees": 180
                                }],
                            "formation": {
                                "type": "wedge",
                                "spacing": [50, -50, 0]
                            }
                        }
                    }
                }, {
                    "type": "command",
                    "subjects": {
                        "squads": ["alpha"]
                    },
                    "params": {
                        "command": "target",
                        "target": {
                            "squads": ["wraith", "phantom", "serpent", "reaper"],
                            "priority": true
                        }
                    }
                }, {
                    "type": "command",
                    "subjects": {
                        "spacecrafts": ["Danube"]
                    },
                    "params": {
                        "command": "target",
                        "target": {
                            "single": "Don",
                            "priority": true
                        }
                    }
                }
            ]
        }, {
            "trigger": {
                "conditions": [{
                        "type": "destroyed",
                        "subjects": {
                            "squads": ["wraith"]
                        }
                    }
                ],
                "conditionsRequired": "all",
                "fireWhen": "changeToTrue",
                "oneShot": true,
                "delay": 1000
            },
            "actions": [{
                    "type": "command",
                    "subjects": {
                        "squads": ["phantom"]
                    },
                    "params": {
                        "command": "jump",
                        "jump": {
                            "way": "in",
                            "anchor": "Danube",
                            "relative": "true",
                            "distance": 4500,
                            "formation": {
                                "type": "wedge",
                                "spacing": [50, -50, 0]
                            }
                        }
                    }
                }
            ]
        }, {
            "trigger": {
                "conditions": [{
                        "type": "count",
                        "subjects": {
                            "squads": ["phantom"]
                        },
                        "params": {
                            "relation": "below",
                            "count": 2
                        }
                    }
                ],
                "conditionsRequired": "all",
                "fireWhen": "changeToTrue",
                "oneShot": true,
                "delay": 1000
            },
            "actions": [{
                    "type": "command",
                    "subjects": {
                        "squads": ["serpent"]
                    },
                    "params": {
                        "command": "jump",
                        "jump": {
                            "way": "in",
                            "anchor": "Danube",
                            "relative": "true",
                            "distance": 3500,
                            "formation": {
                                "type": "wedge",
                                "spacing": [50, -50, 0]
                            }
                        }
                    }
                }
            ]
        }, {
            "trigger": {
                "conditions": [{
                        "type": "count",
                        "subjects": {
                            "squads": ["serpent"]
                        },
                        "params": {
                            "relation": "below",
                            "count": 2
                        }
                    }
                ],
                "conditionsRequired": "all",
                "fireWhen": "changeToTrue",
                "oneShot": true,
                "delay": 1000
            },
            "actions": [{
                    "type": "command",
                    "subjects": {
                        "squads": ["reaper"]
                    },
                    "params": {
                        "command": "jump",
                        "jump": {
                            "way": "in",
                            "anchor": "Danube",
                            "relative": "true",
                            "distance": 3000,
                            "formation": {
                                "type": "wedge",
                                "spacing": [50, -50, 0]
                            }
                        }
                    }
                }
            ]
        }, {
            "trigger": {
                "conditions": [{
                        "type": "destroyed",
                        "subjects": {
                            "squads": ["wraith", "phantom", "serpent", "reaper"]
                        }
                    }
                ],
                "conditionsRequired": "all",
                "fireWhen": "changeToTrue",
                "oneShot": true
            },
            "actions": [{
                    "type": "command",
                    "subjects": {
                        "squads": ["alpha"]
                    },
                    "params": {
                        "command": "standDown"
                    }
                }
            ]
        }, {
            "trigger": {
                "conditions": [{
                        "type": "destroyed",
                        "subjects": {
                            "teams": ["rebels"]
                        }
                    }
                ],
                "conditionsRequired": "all",
                "fireWhen": "changeToTrue",
                "oneShot": true,
                "delay": 30000
            },
            "actions": [{
                    "type": "command",
                    "subjects": {
                        "teams": ["empire"]
                    },
                    "params": {
                        "command": "jump",
                        "jump": {
                            "way": "out"
                        }
                    }
                }
            ]
        }],
    "spacecrafts": [
        {
            "team": "empire",
            "class": "taurus",
            "name": "Danube",
            "ai": "ship",
            "initialTarget": "Don",
            "position": [0, 50, 0],
            "equipment": "full",
            "excludeFromReferenceScore": true
        },
        {
            "team": "empire",
            "class": "falcon",
            "piloted": true,
            "squad": {
                "name": "alpha",
                "index": 1
            },
            "position": [-100, -30, 10],
            "equipment": "full"
        },
        {
            "team": "empire",
            "class": "falcon",
            "squad": {
                "name": "alpha",
                "index": 2
            },
            "ai": "fighter",
            "position": [-65, -70, 20]
        },
        {
            "team": "empire",
            "class": "falcon",
            "squad": {
                "name": "alpha",
                "index": 3
            },
            "ai": "fighter",
            "position": [-135, -70, 20]
        },
        {
            "team": "rebels",
            "class": "falcon",
            "squad": {
                "name": "wraith",
                "index": 1
            },
            "ai": "fighter",
            "away": true,
            "equipment": "full"
        },
        {
            "team": "rebels",
            "class": "falcon",
            "squad": {
                "name": "wraith",
                "index": 2
            },
            "ai": "fighter",
            "away": true,
            "equipment": "default"
        },
        {
            "team": "rebels",
            "class": "falcon",
            "squad": {
                "name": "wraith",
                "index": 3
            },
            "ai": "fighter",
            "away": true
        },
        {
            "team": "rebels",
            "class": "viper",
            "squad": {
                "name": "phantom",
                "index": 1
            },
            "ai": "fighter",
            "away": true,
            "equipment": "heavy"
        },
        {
            "team": "rebels",
            "class": "viper",
            "squad": {
                "name": "phantom",
                "index": 2
            },
            "ai": "fighter",
            "away": true,
            "equipment": "half"
        },
        {
            "team": "rebels",
            "class": "viper",
            "squad": {
                "name": "phantom",
                "index": 3
            },
            "ai": "fighter",
            "away": true,
            "equipment": "half"
        },
        {
            "team": "rebels",
            "class": "falcon",
            "squad": {
                "name": "serpent",
                "index": 1
            },
            "ai": "fighter",
            "away": true
        },
        {
            "team": "rebels",
            "class": "falcon",
            "squad": {
                "name": "serpent",
                "index": 2
            },
            "ai": "fighter",
            "away": true,
            "equipment": "default"
        },
        {
            "team": "rebels",
            "class": "falcon",
            "squad": {
                "name": "serpent",
                "index": 3
            },
            "ai": "fighter",
            "away": true,
            "equipment": "default"
        },
        {
            "team": "rebels",
            "class": "viper",
            "squad": {
                "name": "reaper",
                "index": 1
            },
            "ai": "fighter",
            "away": true,
            "equipment": "heavy"
        },
        {
            "team": "rebels",
            "class": "viper",
            "squad": {
                "name": "reaper",
                "index": 2
            },
            "ai": "fighter",
            "away": true,
            "equipment": "full"
        },
        {
            "team": "rebels",
            "class": "viper",
            "squad": {
                "name": "reaper",
                "index": 3
            },
            "ai": "fighter",
            "away": true,
            "equipment": "full"
        },
        {
            "team": "rebels",
            "class": "aries",
            "name": "Don",
            "ai": "ship",
            "position": [-14500, 0, -150],
            "rotations": [
                {
                    "axis": "z",
                    "degrees": 90
                }
            ],
            "equipment": "full",
            "excludeFromReferenceScore": true
        }
    ]
}
